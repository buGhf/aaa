<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>My Super App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* --- –ë–ê–ó–ê –ò –¶–í–ï–¢–ê --- */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        :root {
            --bg-color: #000000;
            --card-bg: #1c1c1e;
            --text-primary: #ffffff;
            --text-secondary: #8e8e93;
            --accent-color: #0a84ff;
            --accent-gradient: linear-gradient(135deg, #0a84ff 0%, #007aff 100%);
            --life-gradient: linear-gradient(90deg, #30d158 0%, #ffd60a 50%, #ff453a 100%);
            --success-gradient: linear-gradient(135deg, #30d158 0%, #208e3b 100%);
            --gold-gradient: linear-gradient(135deg, #ffd700 0%, #ffaa00 100%); /* –ó–æ–ª–æ—Ç–æ */
            --separator: rgba(254, 254, 254, 0.12);
            --success: #30d158;
            --danger: #ff453a;
        }
        body {
            background-color: var(--bg-color); color: var(--text-primary);
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Roboto', sans-serif;
            margin: 0; padding: 0; padding-bottom: 95px; padding-top: 50px;
        }

        /* --- UI –≠–õ–ï–ú–ï–ù–¢–´ --- */
        .header {
            position: fixed; top: 0; left: 0; width: 100%; height: 50px;
            background: rgba(28, 28, 30, 0.85); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border-bottom: 0.5px solid var(--separator); display: flex; align-items: center; justify-content: center;
            z-index: 900; opacity: 0; pointer-events: none; transition: opacity 0.3s;
        }
        .header.visible { opacity: 1; pointer-events: auto; }
        .header h1 { font-size: 17px; font-weight: 600; margin: 0; }

        .tab-content { display: none; padding: 20px 16px; animation: fadeIn 0.3s ease; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* --- –ì–õ–ê–í–ù–ê–Ø --- */
        .hero-section { padding: 10px 0 20px; text-align: center; }
        .user-avatar-large {
            width: 80px; height: 80px; border-radius: 50%; background: #333; margin: 0 auto 15px;
            object-fit: cover; border: 2px solid var(--accent-color); box-shadow: 0 0 20px rgba(10, 132, 255, 0.3);
        }
        .greeting { font-size: 26px; font-weight: 800; margin-bottom: 5px; }
        .sub-greeting { color: var(--text-secondary); font-size: 14px; }

        /* --- –í–†–ï–ú–Ø (MEMENTO MORI) --- */
        .time-card {
            background: var(--card-bg); border-radius: 16px; padding: 20px;
            margin: 20px 0; border: 0.5px solid rgba(255,255,255,0.08);
            position: relative; overflow: hidden; transition: all 0.3s ease;
        }
        .time-header-row { display: flex; justify-content: space-between; align-items: center; }
        .date-display { font-size: 17px; font-weight: 700; color: #fff; }
        .toggle-btn {
            background: rgba(255,255,255,0.1); width: 32px; height: 32px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center; cursor: pointer; transition: transform 0.3s;
        }
        .toggle-icon { font-size: 12px; color: var(--text-secondary); transition: transform 0.3s; }
        .time-body { margin-top: 20px; opacity: 1; max-height: 200px; overflow: hidden; transition: all 0.4s ease; }
        .time-card.collapsed .time-body { margin-top: 0; opacity: 0; max-height: 0; }
        .time-card.collapsed .toggle-icon { transform: rotate(180deg); }
        .time-row { margin-bottom: 15px; }
        .time-label { display: flex; justify-content: space-between; font-size: 13px; color: #d1d1d6; margin-bottom: 8px; }
        .time-track { width: 100%; height: 8px; background: rgba(255,255,255,0.08); border-radius: 4px; overflow: hidden; }
        .time-fill { height: 100%; border-radius: 4px; background: var(--life-gradient); transition: width 1s linear; }

        /* --- –ë–û–ï–í–û–ô –û–¢–ß–ï–¢ --- */
        .battle-card {
            background: var(--card-bg); border-radius: 16px; padding: 20px;
            margin: 20px 0; border: 0.5px solid rgba(255,255,255,0.08);
            transition: box-shadow 0.3s, border-color 0.3s;
        }
        .battle-card.all-done {
            border-color: rgba(48, 209, 88, 0.5);
            box-shadow: 0 0 20px rgba(48, 209, 88, 0.15);
        }
        
        .battle-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .battle-title { font-size: 17px; font-weight: 700; display: flex; align-items: center; gap: 8px; }
        .battle-reset { font-size: 12px; color: var(--accent-color); font-weight: 600; cursor: pointer; padding: 5px 10px; background: rgba(10, 132, 255, 0.1); border-radius: 6px; }

        .task-input-row { display: flex; gap: 10px; margin-bottom: 15px; }
        .task-input {
            flex: 1; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1);
            color: #fff; padding: 10px 12px; border-radius: 10px; font-size: 15px; outline: none;
        }
        .task-add-btn {
            width: 42px; background: var(--accent-color); color: #fff; border-radius: 10px;
            display: flex; align-items: center; justify-content: center; font-size: 24px; cursor: pointer;
        }

        .task-list { display: flex; flex-direction: column; gap: 10px; }
        .task-item {
            display: flex; align-items: center; justify-content: space-between;
            padding: 12px; background: rgba(255,255,255,0.03); border-radius: 10px;
            transition: opacity 0.2s;
        }
        .task-item.completed { opacity: 0.6; }
        .task-item.completed .task-text { text-decoration: line-through; color: #8e8e93; }
        .task-left { display: flex; align-items: center; gap: 12px; flex: 1; }
        .custom-checkbox {
            width: 22px; height: 22px; border-radius: 6px; border: 2px solid #555;
            display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s;
        }
        .task-item.completed .custom-checkbox { background: var(--success); border-color: var(--success); }
        .custom-checkbox::after { content: '‚úì'; color: #000; font-size: 14px; font-weight: 800; display: none; }
        .task-item.completed .custom-checkbox::after { display: block; }
        .task-text { font-size: 15px; font-weight: 500; }
        .task-del { color: #ff453a; padding: 5px; cursor: pointer; font-size: 18px; }

        .battle-progress { height: 4px; background: rgba(255,255,255,0.1); border-radius: 2px; margin-top: 15px; overflow: hidden; }
        .battle-fill { height: 100%; background: var(--success-gradient); width: 0%; transition: width 0.3s; }

        /* --- VICTORY OVERLAY (–°–ê–õ–Æ–¢) --- */
        .victory-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85); z-index: 3000;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none; transition: opacity 0.5s;
            backdrop-filter: blur(10px);
        }
        .victory-overlay.show { opacity: 1; pointer-events: auto; }
        
        .trophy-anim {
            font-size: 100px; margin-bottom: 20px;
            animation: bounce 1.5s infinite alternate;
            filter: drop-shadow(0 0 30px rgba(255, 215, 0, 0.6));
        }
        @keyframes bounce { from { transform: scale(1); } to { transform: scale(1.1); } }
        
        .victory-title { font-size: 28px; font-weight: 800; color: #fff; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 1px; }
        .victory-sub { font-size: 16px; color: #ffd700; font-weight: 600; }


        /* --- –û–°–¢–ê–õ–¨–ù–û–ï --- */
        .progress-card {
            background: var(--card-bg); border-radius: 16px; padding: 20px;
            margin: 20px 0; border: 0.5px solid rgba(255,255,255,0.1);
        }
        .progress-header { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 14px; font-weight: 600; }
        .progress-track { width: 100%; height: 8px; background: rgba(255,255,255,0.1); border-radius: 4px; overflow: hidden; }
        .progress-fill { width: 0%; height: 100%; background: var(--accent-gradient); border-radius: 4px; transition: width 0.5s ease; }

        .quote-card {
            background: linear-gradient(135deg, #1c1c1e 0%, #2c2c2e 100%);
            border-radius: 16px; padding: 24px; position: relative; overflow: hidden;
            border: 0.5px solid rgba(255,255,255,0.08); margin-bottom: 25px;
        }
        .quote-icon { font-size: 40px; color: rgba(255,255,255,0.1); position: absolute; top: 10px; left: 15px; }
        .quote-text { font-size: 16px; font-style: italic; line-height: 1.5; position: relative; z-index: 2; margin-bottom: 15px; }
        .quote-label { font-size: 11px; color: var(--accent-color); text-transform: uppercase; letter-spacing: 1px; font-weight: 700; }

        .main-btn {
            display: block; width: 100%; padding: 16px; background: var(--accent-gradient); color: #fff;
            text-align: center; border-radius: 14px; font-size: 17px; font-weight: 600; text-decoration: none;
            box-shadow: 0 4px 15px rgba(10, 132, 255, 0.4); transition: transform 0.1s;
        }
        .main-btn:active { transform: scale(0.98); }

        .section-header { font-size: 22px; font-weight: 800; margin: 30px 0 15px; color: #fff; padding-left: 5px; border-left: 3px solid var(--accent-color); line-height: 1; }
        .card {
            background: linear-gradient(180deg, rgba(35,35,37,1) 0%, rgba(28,28,30,1) 100%);
            border-radius: 14px; overflow: hidden; margin-bottom: 20px; position: relative;
            border: 0.5px solid rgba(255, 255, 255, 0.08);
            box-shadow: inset 0 1px 0 0 rgba(255, 255, 255, 0.15), inset 0 0 0 1px rgba(255, 255, 255, 0.03), 0 8px 24px rgba(0, 0, 0, 0.4);
            transition: transform 0.2s;
        }
        .card.done { border-color: rgba(48, 209, 88, 0.3); } 
        .card.done::after {
            content: '‚úì'; position: absolute; top: 10px; right: 10px; 
            background: var(--success); color: #000; font-weight: bold; font-size: 12px;
            width: 20px; height: 20px; border-radius: 50%; display: flex; align-items: center; justify-content: center; z-index: 5;
        }
        .card-body { padding: 16px; }
        .card-title { font-size: 18px; font-weight: 700; margin-bottom: 6px; line-height: 1.3; }
        .badge { display: inline-block; padding: 4px 8px; background: rgba(10, 132, 255, 0.15); color: var(--accent-color); border-radius: 6px; font-size: 11px; font-weight: 700; text-transform: uppercase; margin-bottom: 8px; }
        .video-facade { position: relative; padding-bottom: 56.25%; height: 0; background-color: #000; cursor: pointer; }
        .video-cover-img { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; opacity: 0.9; }
        .play-button { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 56px; height: 56px; background: rgba(255, 255, 255, 0.2); backdrop-filter: blur(10px); border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 1px solid rgba(255,255,255,0.4); box-shadow: 0 8px 25px rgba(0,0,0,0.4); }
        .play-button::after { content: ''; width: 0; height: 0; border-left: 16px solid #fff; border-top: 9px solid transparent; border-bottom: 9px solid transparent; margin-left: 4px; }

        audio { width: 100%; height: 40px; margin-top: 5px; }
        details { background: rgba(255,255,255,0.05); border-radius: 10px; }
        summary { padding: 12px; cursor: pointer; font-weight: 600; color: var(--accent-color); list-style: none; display: flex; justify-content: space-between; }
        summary::after { content: '+'; }
        details[open] summary::after { content: '-'; }
        .text-content { padding: 16px; font-size: 15px; line-height: 1.6; color: #d1d1d6; border-top: 1px solid rgba(255,255,255,0.05); white-space: pre-wrap; }
        .text-content b { color: #fff; font-weight: 700; }
        .text-content i { color: var(--text-secondary); font-style: italic; }
        .text-content ul { padding-left: 20px; margin: 10px 0; }
        .highlight { color: var(--accent-color); font-weight: 600; }

        .profile-header { display: flex; align-items: center; margin-bottom: 30px; }
        .profile-avatar { width: 70px; height: 70px; border-radius: 50%; background: #333; margin-right: 15px; object-fit: cover; }
        .profile-info h2 { margin: 0; font-size: 20px; }
        .profile-info p { margin: 5px 0 0 0; color: var(--text-secondary); font-size: 14px; }
        
        .menu-list { background: var(--card-bg); border-radius: 14px; overflow: hidden; border: 0.5px solid rgba(255, 255, 255, 0.08); }
        .menu-item {
            padding: 16px; display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid rgba(255,255,255,0.05); cursor: pointer; font-size: 16px; text-decoration: none; color: #fff;
        }
        .menu-item:last-child { border-bottom: none; }
        .menu-item:active { background: rgba(255,255,255,0.05); }

        .modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); z-index: 2000; align-items: center; justify-content: center; padding: 20px;
            backdrop-filter: blur(5px);
        }
        .modal.open { display: flex; animation: fadeIn 0.3s; }
        .modal-content {
            background: #1c1c1e; border-radius: 20px; padding: 25px; width: 100%; max-width: 400px;
            border: 1px solid rgba(255,255,255,0.1); position: relative;
        }
        .modal-close { position: absolute; top: 15px; right: 15px; font-size: 24px; color: #8e8e93; cursor: pointer; }

        .bottom-nav {
            position: fixed; bottom: 0; left: 0; width: 100%; height: 85px;
            background: rgba(28, 28, 30, 0.92); backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
            border-top: 0.5px solid var(--separator);
            display: flex; justify-content: space-between; padding: 10px 20px; z-index: 1000;
        }
        .nav-item {
            display: flex; flex-direction: column; align-items: center; justify-content: flex-start;
            color: #8e8e93; font-size: 10px; font-weight: 500; width: 60px;
            cursor: pointer; transition: color 0.2s;
        }
        .nav-item svg { width: 26px; height: 26px; margin-bottom: 5px; fill: currentColor; }
        .nav-item.active { color: var(--accent-color); }

        .ai-placeholder { text-align: center; padding: 60px 20px; }
        .ai-icon { font-size: 70px; margin-bottom: 20px; }
    </style>
</head>
<body>

    <div id="victory-modal" class="victory-overlay">
        <div class="trophy-anim">üèÜ</div>
        <div class="victory-title">–î–ï–ù–¨ –í–ó–Ø–¢</div>
        <div class="victory-sub">–¢—ã –º–∞—à–∏–Ω–∞.</div>
    </div>

    <div class="header" id="main-header"><h1 id="header-title">–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π</h1></div>

    <div id="tab-home" class="tab-content active">
        <div class="hero-section">
            <img src="" id="home-avatar" class="user-avatar-large" onerror="this.src='https://cdn-icons-png.flaticon.com/512/847/847969.png'">
            <div class="greeting">–ü—Ä–∏–≤–µ—Ç, <span id="username">–ß–µ–º–ø–∏–æ–Ω</span>!</div>
            <div class="sub-greeting">–ù–∞—á–Ω–∏ –∑–∞–±–∏—Ä–∞—Ç—å —Å–≤–æ—ë —Å–µ–≥–æ–¥–Ω—è.</div>
        </div>

        <div class="time-card" id="time-widget">
            <div class="time-header-row">
                <div class="date-display" id="current-date">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞—Ç—ã...</div>
                <div class="toggle-btn" onclick="toggleTimeWidget()">
                    <span class="toggle-icon">‚ñº</span>
                </div>
            </div>
            <div class="time-body">
                <div class="time-row">
                    <div class="time-label">
                        <span>–ì–æ–¥ –ø—Ä–æ—à–µ–ª –Ω–∞:</span>
                        <span id="year-percent" style="font-weight:700;">0%</span>
                    </div>
                    <div class="time-track"><div class="time-fill" id="year-bar" style="width: 0%"></div></div>
                </div>
                <div class="time-row" style="margin-bottom:0;">
                    <div class="time-label">
                        <span>–î–µ–Ω—å –ø—Ä–æ—à–µ–ª –Ω–∞:</span>
                        <span id="day-percent" style="font-weight:700;">0%</span>
                    </div>
                    <div class="time-track"><div class="time-fill" id="day-bar" style="width: 0%"></div></div>
                </div>
            </div>
        </div>

        <div class="battle-card" id="battle-card">
            <div class="battle-header">
                <div class="battle-title">üéØ –ü–ª–∞–Ω –Ω–∞ —Å–µ–≥–æ–¥–Ω—è</div>
                <div class="battle-reset" onclick="resetTasks()">–ù–æ–≤—ã–π –¥–µ–Ω—å ‚Üª</div>
            </div>
            
            <div class="task-input-row">
                <input type="text" id="task-input" class="task-input" placeholder="–î–æ–±–∞–≤–∏—Ç—å —Ü–µ–ª—å...">
                <div class="task-add-btn" onclick="addTask()">+</div>
            </div>

            <div class="task-list" id="task-list"></div>

            <div class="battle-progress">
                <div class="battle-fill" id="battle-bar"></div>
            </div>
        </div>

        <div class="progress-card">
            <div class="progress-header">
                <span id="level-title">–£—Ä–æ–≤–µ–Ω—å: –ù–æ–≤–∏—á–æ–∫</span>
                <span id="progress-percent" style="color: var(--accent-color)">0%</span>
            </div>
            <div class="progress-track">
                <div class="progress-fill" id="progress-bar"></div>
            </div>
        </div>

        <div class="quote-card">
            <div class="quote-icon">‚Äú</div>
            <div class="quote-text" id="daily-quote"></div>
            <div class="quote-label">–ú—ã—Å–ª—å –¥–Ω—è</div>
        </div>

        <a href="#" onclick="switchTab('tab-library', '–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π', document.getElementById('nav-library'))" class="main-btn">
            –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –æ–±—É—á–µ–Ω–∏–µ ‚ûî
        </a>
    </div>

    <div id="tab-library" class="tab-content">
        <div class="section-header">–°–∏—Å—Ç–µ–º–∞</div>
        <div class="card" id="item-video1">
            <div class="video-facade" onclick="playContent('video1', this, 'Ja2VgG4I9KA')">
                <img src="cover1.jpg" class="video-cover-img">
                <div class="play-button"></div>
            </div>
            <div class="card-body">
                <span class="badge">–°—Ç–∞—Ä—Ç</span>
                <div class="card-title">–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –Ω–∞—á–∞—Ç—å</div>
                <div class="card-desc">–•–≤–∞—Ç–∏—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å. –ü—Ä–æ—Å—Ç–∞—è —Å—Ö–µ–º–∞ –∑–∞–ø—É—Å–∫–∞.</div>
            </div>
        </div>
        <div class="card" id="item-video2">
            <div class="video-facade" onclick="playContent('video2', this, 'NDYvxYSFbvA')">
                <img src="cover2.jpg" class="video-cover-img">
                <div class="play-button"></div>
            </div>
            <div class="card-body">
                <span class="badge">–ë–∞–∑–∞</span>
                <div class="card-title">–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –ø–æ-–Ω–æ–≤–æ–º—É</div>
            </div>
        </div>
        <div class="card" id="item-video3">
            <div class="video-facade" onclick="playContent('video3', this, 'sq9P1fyzLnk')">
                <img src="cover3.jpg" class="video-cover-img">
                <div class="play-button"></div>
            </div>
            <div class="card-body">
                <span class="badge">–ú–æ—Ç–∏–≤–∞—Ü–∏—è</span>
                <div class="card-title">–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</div>
            </div>
        </div>
        <div class="card" id="item-video4">
            <div class="video-facade" onclick="playContent('video4', this, 'ayd3ULvow3k')">
                <img src="cover4.jpg" class="video-cover-img">
                <div class="play-button"></div>
            </div>
            <div class="card-body">
                <span class="badge">–û—à–∏–±–∫–∏</span>
                <div class="card-title">–†–∞–±–æ—Ç–∞ –±–µ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞</div>
            </div>
        </div>

        <div class="section-header">–ú—ã—à–ª–µ–Ω–∏–µ</div>
        <div class="card" id="item-video5">
            <div class="video-facade" onclick="playContent('video5', this, 'n9s_4jvxR0M')">
                <img src="cover5.jpg" class="video-cover-img">
                <div class="play-button"></div>
            </div>
            <div class="card-body">
                <span class="badge">–§–æ–∫—É—Å</span>
                <div class="card-title">–¢–∏—à–∏–Ω–∞ –∏ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è</div>
            </div>
        </div>
        <div class="card" id="item-video6">
            <div class="video-facade" onclick="playContent('video6', this, 'odtCZ2fsRRk')">
                <img src="cover6.jpg" class="video-cover-img">
                <div class="play-button"></div>
            </div>
            <div class="card-body">
                <span class="badge">–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è</span>
                <div class="card-title">–í—ã–≥–æ—Ä–∞–Ω–∏–µ: –≤—ã—Ö–æ–¥ –µ—Å—Ç—å</div>
            </div>
        </div>

        <div class="card" id="item-audio1">
            <div class="card-body">
                <span class="badge">–ê—É–¥–∏–æ</span>
                <div class="card-title">üéô –û–∫—Ä—É–∂–µ–Ω–∏–µ</div>
                <audio controls onplay="trackProgress('audio1')"><source src="https://dl.dropboxusercontent.com/scl/fi/m3z94htt3v3ttu3z7agsr/voice1.mp3?rlkey=her5gtxpmpjfprzdyndhaxnk3" type="audio/mpeg"></audio>
            </div>
        </div>

        <div class="card" id="item-audio2">
            <div class="card-body">
                <span class="badge">–ê—É–¥–∏–æ</span>
                <div class="card-title">üéô –û—Ç–¥—ã—Ö</div>
                <audio controls onplay="trackProgress('audio2')"><source src="https://dl.dropboxusercontent.com/scl/fi/1rgpu09you9nmkq1eke9s/voice2.mp3?rlkey=p8z9xs4wq3ba7jsk6fqszg4o6" type="audio/mpeg"></audio>
            </div>
        </div>

        <div class="section-header">–ì–∞–π–¥—ã</div>
        <div class="card" id="item-text1">
            <div class="card-body">
                <span class="badge">–°—Ç—Ä–∞—Ç–µ–≥–∏—è</span>
                <div class="card-title">–ù–µ —Å–ª–∏–≤–∞–π —ç–Ω–µ—Ä–≥–∏—é</div>
                <details ontoggle="if(this.open) trackProgress('text1')">
                    <summary>–ß–∏—Ç–∞—Ç—å</summary>
                    <div class="text-content">
–ü—Ä–µ–¥—Å—Ç–∞–≤—å —Å–∏—Ç—É–∞—Ü–∏—é:<br><br>
<ul><li>–¢—ã –ø—Ä–∏–µ—Ö–∞–ª –Ω–∞ –∑–∞–ø—Ä–∞–≤–∫—É, –æ–ø–ª–∞—Ç–∏–ª –µ–µ –∏ 90% —Ç–æ–ø–ª–∏–≤–∞ —Ç—ã —Å–ª–∏–≤–∞–µ—à—å –Ω–∞ –∞—Å—Ñ–∞–ª—å—Ç, –Ω–µ –≤ –±–∞–∫.</li></ul>
<i>–ß—É–≤—Å—Ç–≤—É–µ—à—å? –ù–µ –ø—Ä–∏—è—Ç–Ω–æ, —Ç—ã –≤–µ–¥—å –∑–∞–ø–ª–∞—Ç–∏–ª - –∞  –ø–æ–ª—É—á–∏–ª–æ—Å—å —á—Ç–æ –∑—Ä—è.</i><br><br>
<b>–¢–∞–∫ –≤–æ—Ç —Ç—ã –º–∞—à–∏–Ω–∞.</b> –í –Ω–∞—á–∞–ª–µ –¥–Ω—è —Ç—ã –ø–æ–ª–æ–Ω —ç–Ω–µ—Ä–≥–∏–∏, –Ω–æ —Ç—Ä–∞—Ç–∏—à—å –µ–µ –Ω–µ –Ω–∞ —Ç–µ –≤–µ—â–∏.<br>
–¢—ã —Å–∫—Ä–æ–ª–∏—à—å –ª–µ–Ω—Ç—É, –¥—Ä()—á–∏—à—å, –≤—ã–ø–∏–≤–∞–µ—à—å –∏ –¥—É–º–∞–µ—à—å:<br><br>
<i>- –û–∫–µ–π, 4 —á–∞—Å–∞ –¥–Ω—è. –ï—â–µ –≤—Ä–µ–º—è –µ—Å—Ç—å. –°—è–¥—É –∑–∞ —Ä–∞–±–æ—Ç—É –∫ 5.</i><br>
–ü–æ—Ç–æ–º –≤ 5 —Ç—ã —Ä–µ—à–∏–ª –ø–æ–∑–≤–æ–Ω–∏—Ç—å –∫–µ–Ω—Ç–∞–º, —Ä–∞–∑–≥–æ–≤–æ—Ä –∑–∞—Ç—è–Ω—É–ª—Å—è –∏ –≤—ã—Ö–æ–¥–∏—Ç —á—Ç–æ —É–∂–µ 7 —á–∞—Å–æ–≤.<br><br>
–ö–∞–∫ —Ç–∞–∫? –Ø –∂–µ –Ω–µ –¥–∞–≤–Ω–æ, –≤—Ä–æ–¥–µ –±—ã, –≤—Å—Ç–∞–ª —Å –∫—Ä–æ–≤–∞—Ç–∏. –¢—ã –∑–∞—Å—Ç–∞–≤–ª—è–µ—à—å —Å–µ–±—è —Å–µ—Å—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–æ —Ñ–æ–∫—É—Å–∞ —É–∂–µ –Ω–µ—Ç. –î–µ–ª–∞–µ—à—å –±–∞–∑–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –≤ —Ä–∞–±–æ—Ç–µ, –º–æ–∂–µ—Ç –¥–∞–∂–µ –Ω–µ –≤—Å–µ. –ê –º–æ–∂–µ—Ç –≤–æ–æ–±—â–µ —Å–æ–∑–¥–∞–µ—à—å –≤–∏–¥–∏–º–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã, –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã ‚Äú–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ‚Äù –∑–∞—Å—Ç–∞–≤–∏—Ç—å –Ω–µ –≤–∏–Ω–∏—Ç—å —Å–µ–±—è.<br><br>
<span class="highlight">–ö–∞–∫–æ–π –≤—ã–≤–æ–¥?</span><br>
<ul>
    <li>20% –∑–∞–±—Ä–∞–ª —Ç–∏–∫ —Ç–æ–∫</li>
    <li>30% –∑–∞–±—Ä–∞–ª–æ –ø–æ?–Ω–æ</li>
    <li>30% —Ç—ã –æ—Ç–¥–∞–ª –Ω–∞ –ø—É—Å—Ç–æ–π —Ä–∞–∑–≥–æ–≤–æ—Ä —Å –¥—Ä—É–∑—å—è–º–∏</li>
    <li>10% –∑–∞–±—Ä–∞–ª–∏ —Ä—É—Ç–∏–Ω–Ω—ã–µ –¥–µ–ª–∞</li>
    <li><b>10% –æ—Å—Ç–∞–ª–æ—Å—å</b></li>
</ul>
<br>
+ –Ω–µ –∑–∞–∫—Ä—ã—Ç—ã–π –¥–µ–Ω—å<br>
+ –Ω–µ —Å–¥–≤–∏–≥ —Å –º–µ—Å—Ç–∞<br>
+ –ø–ª–∞–Ω –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å—Å—è –Ω–∞ –∑–∞–≤—Ç—Ä–∞<br>
+ –º–Ω–æ–≥–æ –≤—Å—è–∫–æ–π –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–π –∑–∞–ª—É–ø—ã, –∫–æ—Ç–æ—Ä—É—é –ø–µ—Ä–µ—á–∏—Å–ª—è—è –±—ã—Å—Ç—Ä–µ–µ –∑–∞–≥–æ–Ω–∏—à—å —Å–µ–±—è –≤ –¥–µ–ø—Ä–µ—Å—Å–∏—é<br><br>
–¢—ã –¥—É–º–∞–µ—à—å, —á—Ç–æ —è –æ–ø–∏—Å–∞–ª —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –±–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä –Ω–µ—É–¥–∞—á–Ω–∏–∫–∞ - –∫–æ—Ç–æ—Ä—ã–π –≤—Å–µ –ø—Ä–∏–≤–æ–¥—è—Ç —á—Ç–æ–±—ã –∑–∞–ø—É–≥–∞—Ç—å –≤–∞—Å. –ù–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –≤—Å–µ —ç—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.<br><br>
–ù–∏–∫—Ç–æ –Ω–µ —Å—á–∏—Ç–∞–µ—Ç —Å–µ–±—è —Ç–∞–∫–∏–º, –Ω–æ –ø–æ—á–µ–º—É —Ç–æ –≤ –∫–æ–Ω—Ü–µ –¥–Ω—è –∏—Å–ø—ã—Ç—ã–≤–∞–µ—Ç –∑–ª–æ—Å—Ç—å –Ω–∞ —Å–µ–±—è –∏ —á—É–≤—Å—Ç–≤–æ —Å–ª–∞–±–æ—Å—Ç–∏.<br><br>
–£ –∫–∞–∂–¥–æ–≥–æ —Å–≤–æ–∏ –æ—Ç–≤–ª–µ—á–µ–Ω–∏—è, —Å—É—Ç—å –≤ —Ç–æ–º —á—Ç–æ –æ–Ω–∏  –µ—Å—Ç—å. –°–æ–±–ª–∞–∑–Ω—ã —É –∫–∞–∂–¥–æ–≥–æ - —Å—É—Ç—å –≤ —Ç–æ–º, —á—Ç–æ–±—ã –∏—Ö —Å–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å<br><br>
<b>- –ö–∞–∫?</b><br>
–ù–µ —É–±–∏—Ä–∞—Ç—å –∏—Ö –Ω–∞–≤—Å–µ–≥–¥–∞, –∞ –≤—Ä–µ–º–µ–Ω–Ω–æ. –ü–æ–∫–∞ —Ç—ã –Ω–µ —Å–¥–µ–ª–∞–µ—à—å —Ç–æ —Ç–æ —Ç–æ —Ç–æ‚Ä¶<br><br>
–ù–µ –ø–æ–∫—É—Ä–∏—à—å —Å–∏–≥–∞—Ä–µ—Ç—É, –ø–æ–∫–∞ –Ω–µ –∑–∞–∫—Ä–æ–µ—à—å —Å–¥–µ–ª–∫—É<br>
–ù–µ –ø–æ—Å–º–æ—Ç—Ä–∏—à—å —Ñ–∏–ª—å–º, –ø–æ–∫–∞ –Ω–µ –∑–∞–∫—Ä–æ–µ—à—å –¥–Ω–µ–≤–Ω–æ–π –ø–ª–∞–Ω<br>
–∏ —Ç–¥<br><br>
–ò–ª–∏ —Ü–µ–ª—å: –ö—É–ø–∏—Ç—å –º–æ—Ç–æ—Ü–∏–∫–ª<br><br>
<i>‚Äù—è –Ω–µ –±—É–¥—É —Å–∫–∞—á–∏–≤–∞—Ç—å —Ç–∏–∫ —Ç–æ–∫, –∏–Ω—Å—Ç—É (–µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã) –ø–æ–∫–∞ –Ω–µ –∫—É–ø–ª—é –º–æ—Ç–æ—Ü–∏–∫‚Äù</i><br><br>
<b>–°–¥–µ–ª–∞–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Å—Ç–∏–º—É–ª–æ–º.</b>
                    </div>
                </details>
            </div>
        </div>

        <div class="card" id="item-text2">
            <div class="card-body">
                <span class="badge">–°–≤—è–∑–∏</span>
                <div class="card-title">–ö–∞–∫ –æ–±–∑–∞–≤–µ—Å—Ç–∏—Å—å —Å–≤—è–∑—è–º–∏</div>
                <details ontoggle="if(this.open) trackProgress('text2')">
                    <summary>–ß–∏—Ç–∞—Ç—å</summary>
                    <div class="text-content">
–¢—É—Ç —Ç–æ–Ω–∫–∞—è –≥—Ä–∞–Ω—å –º–µ–∂–¥—É –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º –æ–±—â–µ–Ω–∏–µ–º, –≥–¥–µ —è —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–ª —á—Ç–æ –Ω–µ –Ω—É–∂–Ω–æ –Ω–∞–≤—è–∑—ã–≤–∞—Ç—å—Å—è –∏ –∏—Å–∫–∞—Ç—å —Ü–µ–ª–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ.<br><br>
–¢—É—Ç –º—ã –≥–æ–≤–æ—Ä–∏–º –ø—Ä–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–≤—è–∑–µ–π —Å —É–∂–µ —É—Å–ø–µ—à–Ω—ã–º–∏ –ª—é–¥—å–º–∏ –≤ –≤–∞—à–µ–π –Ω–∏—à–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–ø—ã—Ç–∞ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.<br>
<b>–í–∑–∞–∏–º–æ–≤—ã–≥–æ–¥–∞.</b><br><br>
–í—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —á–µ–ª–æ–≤–µ–∫—É —á—Ç–æ —Ç–æ —Ü–µ–Ω–Ω–æ–µ, —á—Ç–æ–±—ã –æ–Ω —Ç–æ–∂–µ –ø–æ–ª—É—á–∏–ª —Ö–æ—Ç—å –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–æ –∏–º–ø–∞–∫—Ç. –í–µ–¥—å –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å–æ–∑–≤–æ–Ω–∏—Ç—å—Å—è/–≤—Å—Ç—Ä–µ—Ç–∏—Ç—å—Å—è/—Å–ø–∏—Å–∞—Ç—å—Å—è —Å —á–µ–ª–æ–≤–µ–∫–æ–º –≤—ã—à–µ –≤–∞—Å –ø–æ —Ä–∞–Ω–≥—É, –≤–∞–º –Ω—É–∂–Ω–æ –µ–≥–æ –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞—Ç—å<br><br>
<span class="highlight">- –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å?</span><br><br>
–í–∞–∂–Ω–æ –Ω–µ —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å "—á–µ–º —è –º–æ–≥—É –±—ã—Ç—å –ø–æ–ª–µ–∑–µ–Ω" ,–∞ —Å—Ä–∞–∑—É –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –≥–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ:<br>
<b>–ü—Ä–∏–º–µ—Ä:</b><br><br>
–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –ø–æ–¥–ø–∏—Å—á–∏–∫–∏ –≤ –∏–Ω—Å—Ç–µ/—Ç–≥ –º–æ–∂–µ—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ä–µ–∫–ª–∞–º—É —Å–µ—Ä–≤–∏—Å–∞, –±–∏–∑–Ω–µ—Å–∞ –≤ –∑–∞–º–µ–Ω —Ä–∞–∑–≥–æ–≤–æ—Ä–∞<br>
–í–æ—Ç –∏ –ø—Ä–µ–ª–µ—Å—Ç—å –º–µ–¥–∏–π–∫–∏, —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±<br><br>
–í –¥—Ä—É–≥–∏—Ö —Å–ª—É—á–∞—è—Ö –Ω—É–∂–Ω–æ –æ—Ç—Ç–∞–ª–∫–∏–≤–∞—Ç—å—Å—è –æ—Ç –≤–∞—à–µ–≥–æ –Ω–∞–≤—ã–∫–∞ –∏ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ –≤–∞—Ä–∏–∞–Ω—Ç —É–ª—É—á—à–µ–Ω–∏—è –±–∏–∑–Ω–µ—Å–∞ —á–µ–ª–æ–≤–µ–∫–∞, —Å –∫–æ—Ç–æ—Ä—ã–º —Ö–æ—Ç–∏—Ç–µ –ø–æ–æ–±—â–∞—Ç—å—Å—è –∏–ª–∏ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å —á—Ç–æ —Ç–æ.<br><br>
–°—É—Ç—å –≤ —Ç–æ–º, —á—Ç–æ–±—ã –Ω–µ –¥–∞–≤–∞—Ç—å –æ—â—É—â–µ–Ω–∏–µ "–±–µ—Å–ø–ª–∞—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã" —á–µ–ª–æ–≤–µ–∫—É<br><br>
<b>–®–∞–±–ª–æ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è:</b><br>
<i>¬´–ò–≤–∞–Ω, –¥–æ–±—Ä—ã–π –¥–µ–Ω—å! –Ø —Å–µ–π—á–∞—Å –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç –∏ —Å—Ç–æ–ª–∫–Ω—É–ª—Å—è —Å –≤–æ–ø—Ä–æ—Å–æ–º [–≤–æ–ø—Ä–æ—Å]. –í–∞—à –æ–ø—ã—Ç –º–Ω–µ –æ—á–µ–Ω—å –ø–æ–ª–µ–∑–µ–Ω<br>
–ü–æ–Ω–∏–º–∞—é —Ü–µ–Ω–Ω–æ—Å—Ç—å –≤–∞—à–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –ø–æ—ç—Ç–æ–º—É –ø—Ä–µ–¥–ª–∞–≥–∞—é —Å–¥–µ–ª–∞—Ç—å —Ä–µ–∫–ª–∞–º–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –≤–∞—à–µ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ –≤ –º–æ–µ–º –∏–Ω—Å—Ç–∞–≥—Ä–∞–º–º–µ (10–∫ –ª–æ—è–ª—å–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏, –æ—Ö–≤–∞—Ç—ã –≤ —Å—Ç–æ—Ä–∏—Å [—Ü–∏—Ñ—Ä–∞]). –£–≤–µ—Ä–µ–Ω, –≤–∞—à–µ–º—É –±–∏–∑–Ω–µ—Å—É –±—É–¥–µ—Ç –ø–æ–ª–µ–∑–µ–Ω —ç—Ç–æ—Ç –ø—Ä–∏—Ç–æ–∫ –ª–∏–¥–æ–≤.<br>
–ù–∞–π–¥–µ—Ç—Å—è –ø–æ–ª —á–∞—Å–∞  –¥–ª—è –∫–æ—Ä–æ—Ç–∫–æ–≥–æ —Å–æ–∑–≤–æ–Ω–∞/–æ–±—â–µ–Ω–∏—è)¬ª</i>
                    </div>
                </details>
            </div>
        </div>
    </div>

    <div id="tab-ai" class="tab-content">
        <div class="ai-placeholder">
            <div class="ai-icon">üß†</div>
            <h2 style="margin-top:0;">AI –ú–µ–Ω—Ç–æ—Ä</h2>
            <p style="color:#8e8e93; font-size:15px; line-height:1.5;">
                –Ø –ø–æ–¥–∫–ª—é—á–∞—é –Ω–µ–π—Ä–æ—Å–µ—Ç—å, –∫–æ—Ç–æ—Ä–∞—è —Å—Ç–∞–Ω–µ—Ç —Ç–≤–æ–∏–º –ª–∏—á–Ω—ã–º –∫–æ—É—á–µ–º.<br>
                –û–Ω–∞ –Ω–µ –±—É–¥–µ—Ç —Ç–µ–±—è –∂–∞–ª–µ—Ç—å. –û–Ω–∞ –±—É–¥–µ—Ç –¥–∞–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
            </p>
            <div style="margin-top: 30px; padding: 15px; border: 1px dashed #444; border-radius: 12px; color: #666; font-size: 13px;">
                –°—Ç–∞—Ç—É—Å: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤...
            </div>
        </div>
    </div>

    <div id="tab-profile" class="tab-content">
        <div class="profile-header">
            <img src="" id="profile-avatar" class="profile-avatar" onerror="this.src='https://cdn-icons-png.flaticon.com/512/847/847969.png'">
            <div class="profile-info">
                <h2 id="profile-name">–ó–∞–≥—Ä—É–∑–∫–∞...</h2>
                <p>–£—á–∞—Å—Ç–Ω–∏–∫ –∫–ª—É–±–∞</p>
            </div>
        </div>

        <div class="menu-list">
            <a href="https://t.me/Ivannote" class="menu-item" style="color: var(--accent-color)">
                <span>üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ / –í–æ–ø—Ä–æ—Å</span>
                <span class="arrow">‚ûî</span>
            </a>
            <div class="menu-item" onclick="openModal()">
                <span>‚ÑπÔ∏è –û —Å—É—Ç–∏ (–ú–∞–Ω–∏—Ñ–µ—Å—Ç)</span>
                <span class="arrow">–ß–∏—Ç–∞—Ç—å</span>
            </div>
            <div class="menu-item" onclick="resetProgress()">
                <span style="color: #ff453a">üîÑ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</span>
                <span class="arrow">–°–±—Ä–æ—Å</span>
            </div>
        </div>
        <div style="text-align: center; margin-top: 30px; color: #444; font-size: 12px;">–í–µ—Ä—Å–∏—è 2.1.0 (Victory Mode)</div>
    </div>

    <div class="modal" id="about-modal">
        <div class="modal-content">
            <div class="modal-close" onclick="closeModal()">√ó</div>
            <h2 style="margin-top:0;">–û —Å—É—Ç–∏</h2>
            <div style="line-height:1.6; color: #d1d1d6; font-size: 15px;">
                –¢—ã –∑–¥–µ—Å—å –Ω–µ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —É—á–∏—Ç—å—Å—è. <br><b>–¢—ã –∑–¥–µ—Å—å, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å.</b><br><br>
                –≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç ‚Äî —Ç–≤–æ–π –ª–∏—á–Ω—ã–π —á–∏—Ç-–∫–æ–¥ –∫ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏. –ú—ã —É–±—Ä–∞–ª–∏ –≤—Å—ë –ª–∏—à–Ω–µ–µ, —á—Ç–æ–±—ã —Ç—ã —Å—Ä–∞–∑—É –ø–æ–ª—É—á–∏–ª –¥–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å–∞–º:<br><br>
                ‚Ä¢ <b>–Ø—Å–Ω—ã–π —É–º</b> ‚Äî –∫–æ–≥–¥–∞ –¥—Ä—É–≥–∏–µ –ø–∞–Ω–∏–∫—É—é—Ç.<br>
                ‚Ä¢ <b>–≠–Ω–µ—Ä–≥–∏—è</b> ‚Äî –∫–æ–≥–¥–∞ –¥—Ä—É–≥–∏–µ –≤—ã–≥–æ—Ä–∞—é—Ç.<br>
                ‚Ä¢ <b>–í–ª–∏—è–Ω–∏–µ</b> ‚Äî –∫–æ–≥–¥–∞ –¥—Ä—É–≥–∏–µ –ø—Ä–æ—Å—è—Ç.<br><br>
                <span class="highlight">–ü—Ä–æ—Å—Ç–æ –∑–∞–±–∏—Ä–∞–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã.</span> –†–µ–∑—É–ª—å—Ç–∞—Ç —É–∂–µ –∑–∞–ª–æ–∂–µ–Ω –≤ –°–∏—Å—Ç–µ–º—É.
            </div>
        </div>
    </div>

    <div class="bottom-nav">
        <div class="nav-item active" onclick="switchTab('tab-home', '', this)">
            <svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
            <span>–ì–ª–∞–≤–Ω–∞—è</span>
        </div>
        <div class="nav-item" id="nav-library" onclick="switchTab('tab-library', '–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π', this)">
            <svg viewBox="0 0 24 24"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z"/></svg>
            <span>–ë–∞–∑–∞</span>
        </div>
        <div class="nav-item" onclick="switchTab('tab-ai', 'AI –ú–µ–Ω—Ç–æ—Ä', this)">
            <svg viewBox="0 0 24 24"><path d="M12 2c1.1 0 2 .9 2 2h4v2h2v14H4V6h2V4h4c0-1.1.9-2 2-2zm0 2c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm6 4H6v12h12V8zm-6 2c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z"/></svg>
            <span>–ú–µ–Ω—Ç–æ—Ä</span>
        </div>
        <div class="nav-item" onclick="switchTab('tab-profile', '–ü—Ä–æ—Ñ–∏–ª—å', this)">
            <svg viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
            <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.ready(); tg.expand();
        tg.setHeaderColor('#000000'); tg.setBackgroundColor('#000000');

        const quotes = [
            "–£—Å–ø–µ—Ö ‚Äî —ç—Ç–æ —Å—É–º–º–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —É—Å–∏–ª–∏–π, –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∏–∑–æ –¥–Ω—è –≤ –¥–µ–Ω—å.",
            "–ù–µ –∂–¥–∏ –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞. –ë–µ—Ä–∏ –º–æ–º–µ–Ω—Ç –∏ –¥–µ–ª–∞–π –µ–≥–æ –∏–¥–µ–∞–ª—å–Ω—ã–º.",
            "–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ ‚Äî —ç—Ç–æ –º–æ—Å—Ç –º–µ–∂–¥—É —Ü–µ–ª—è–º–∏ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏.",
            "–¢–≤–æ—ë ¬´–∑–∞–≤—Ç—Ä–∞¬ª –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å–µ–≥–æ–¥–Ω—è.",
            "–ï—Å–ª–∏ —Ç—ã —É—Å—Ç–∞–ª ‚Äî –Ω–∞—É—á–∏—Å—å –æ—Ç–¥—ã—Ö–∞—Ç—å, –∞ –Ω–µ —Å–¥–∞–≤–∞—Ç—å—Å—è.",
            "–ë–æ–ª—å –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã –≤–µ—Å–∏—Ç –≥—Ä–∞–º–º—ã, –±–æ–ª—å —Å–æ–∂–∞–ª–µ–Ω–∏—è ‚Äî —Ç–æ–Ω–Ω—ã."
        ];
        document.getElementById('daily-quote').innerText = quotes[new Date().getDate() % quotes.length];

        // --- –í–†–ï–ú–Ø ---
        function updateDateAndWidget() {
            const now = new Date();
            const options = { day: 'numeric', month: 'long', weekday: 'long' };
            const dateStr = now.toLocaleDateString('ru-RU', options);
            document.getElementById('current-date').innerText = dateStr.charAt(0).toUpperCase() + dateStr.slice(1);

            const startOfYear = new Date(now.getFullYear(), 0, 1);
            const endOfYear = new Date(now.getFullYear() + 1, 0, 1);
            const yearPercent = ((now - startOfYear) / (endOfYear - startOfYear)) * 100;
            
            const startOfDay = new Date(now.getFullYear(), now.getMonth(), now.getDate());
            const endOfDay = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1);
            const dayPercent = ((now - startOfDay) / (endOfDay - startOfDay)) * 100;

            document.getElementById('year-bar').style.width = yearPercent + '%';
            document.getElementById('year-percent').innerText = yearPercent.toFixed(1) + '%';
            document.getElementById('day-bar').style.width = dayPercent + '%';
            document.getElementById('day-percent').innerText = dayPercent.toFixed(1) + '%';
        }
        setInterval(updateDateAndWidget, 1000);
        updateDateAndWidget();

        function toggleTimeWidget() {
            const widget = document.getElementById('time-widget');
            const isCollapsed = widget.classList.toggle('collapsed');
            localStorage.setItem('timeWidgetHidden', isCollapsed);
            tg.HapticFeedback.selectionChanged();
        }
        if(localStorage.getItem('timeWidgetHidden') === 'true') {
            document.getElementById('time-widget').classList.add('collapsed');
        }

        // --- –ë–û–ï–í–û–ô –û–¢–ß–ï–¢ ---
        let tasks = JSON.parse(localStorage.getItem('battleTasks')) || [];

        function renderTasks() {
            const list = document.getElementById('task-list');
            list.innerHTML = '';
            
            let completedCount = 0;

            tasks.forEach((task, index) => {
                if (task.done) completedCount++;
                
                const div = document.createElement('div');
                div.className = `task-item ${task.done ? 'completed' : ''}`;
                div.innerHTML = `
                    <div class="task-left" onclick="toggleTask(${index})">
                        <div class="custom-checkbox"></div>
                        <div class="task-text">${task.text}</div>
                    </div>
                    <div class="task-del" onclick="deleteTask(${index})">√ó</div>
                `;
                list.appendChild(div);
            });

            const total = tasks.length;
            const percent = total === 0 ? 0 : (completedCount / total) * 100;
            document.getElementById('battle-bar').style.width = percent + '%';
            
            const card = document.getElementById('battle-card');
            if (total > 0 && percent === 100) {
                card.classList.add('all-done');
            } else {
                card.classList.remove('all-done');
            }
        }

        function addTask() {
            const input = document.getElementById('task-input');
            const text = input.value.trim();
            if (text) {
                tasks.push({ text: text, done: false });
                saveTasks();
                input.value = '';
                tg.HapticFeedback.impactOccurred('light');
            }
        }

        function toggleTask(index) {
            const was100 = (tasks.length > 0 && tasks.filter(t => t.done).length === tasks.length);
            
            tasks[index].done = !tasks[index].done;
            saveTasks();
            tg.HapticFeedback.selectionChanged();

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–±–µ–¥—É (–µ—Å–ª–∏ —Å—Ç–∞–ª–æ 100%, –∞ –±—ã–ª–æ –º–µ–Ω—å—à–µ)
            const now100 = (tasks.length > 0 && tasks.filter(t => t.done).length === tasks.length);
            if (!was100 && now100) {
                showVictory();
            }
        }

        function showVictory() {
            const overlay = document.getElementById('victory-modal');
            overlay.classList.add('show');
            tg.HapticFeedback.notificationOccurred('success');
            setTimeout(() => {
                overlay.classList.remove('show');
            }, 2500);
        }

        function deleteTask(index) {
            tasks.splice(index, 1);
            saveTasks();
            tg.HapticFeedback.impactOccurred('light');
        }

        function resetTasks() {
            if(confirm('–ù–∞—á–∞—Ç—å –Ω–æ–≤—ã–π –¥–µ–Ω—å? –í—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã.')) {
                tasks = tasks.filter(t => !t.done);
                saveTasks();
                tg.HapticFeedback.notificationOccurred('success');
            }
        }

        function saveTasks() {
            localStorage.setItem('battleTasks', JSON.stringify(tasks));
            renderTasks();
        }
        renderTasks();

        // --- –î–ê–ù–ù–´–ï –Æ–ó–ï–†–ê ---
        const user = tg.initDataUnsafe.user;
        if (user) {
            const fullName = user.first_name + (user.last_name ? " " + user.last_name : "");
            document.getElementById('username').innerText = user.first_name;
            document.getElementById('profile-name').innerText = fullName;
            if (user.photo_url) {
                document.getElementById('home-avatar').src = user.photo_url;
                document.getElementById('profile-avatar').src = user.photo_url;
            }
        }

        // --- –£–†–û–ö–ò –ü–†–û–ì–†–ï–°–° ---
        const totalItems = 10;
        let completedItems = JSON.parse(localStorage.getItem('completedItems')) || [];

        function updateProgressUI() {
            const percent = Math.round((completedItems.length / totalItems) * 100);
            document.getElementById('progress-percent').innerText = percent + '%';
            document.getElementById('progress-bar').style.width = percent + '%';
            
            let status = "–ù–æ–≤–∏—á–æ–∫";
            if(percent > 30) status = "–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π";
            if(percent > 70) status = "–ú–∞—à–∏–Ω–∞";
            if(percent === 100) status = "–õ–µ–≥–µ–Ω–¥–∞";
            document.getElementById('level-title').innerText = "–£—Ä–æ–≤–µ–Ω—å: " + status;

            completedItems.forEach(id => {
                const el = document.getElementById('item-' + id);
                if(el) el.classList.add('done');
            });
        }

        function trackProgress(id) {
            if (!completedItems.includes(id)) {
                completedItems.push(id);
                localStorage.setItem('completedItems', JSON.stringify(completedItems));
                updateProgressUI();
                tg.HapticFeedback.notificationOccurred('success');
            }
        }

        function resetProgress() {
            if(confirm('–°–±—Ä–æ—Å–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å?')) {
                completedItems = [];
                localStorage.removeItem('completedItems');
                document.querySelectorAll('.card').forEach(el => el.classList.remove('done'));
                updateProgressUI();
                tg.HapticFeedback.impactOccurred('medium');
            }
        }
        updateProgressUI();

        // --- –ù–ê–í–ò–ì–ê–¶–ò–Ø ---
        function playContent(id, element, videoId) {
            trackProgress(id);
            var iframe = document.createElement('iframe');
            iframe.src = 'https://www.youtube.com/embed/' + videoId + '?autoplay=1&modestbranding=1&rel=0&showinfo=0&controls=1';
            iframe.setAttribute('allowfullscreen', '');
            iframe.setAttribute('allow', 'autoplay; encrypted-media');
            element.innerHTML = '';
            element.appendChild(iframe);
        }

        function switchTab(tabId, title, element) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            if(element) element.classList.add('active');
            
            const header = document.getElementById('main-header');
            if (tabId === 'tab-home') header.classList.remove('visible');
            else {
                header.classList.add('visible');
                document.getElementById('header-title').innerText = title;
            }
            tg.HapticFeedback.impactOccurred('light');
            window.scrollTo({top: 0, behavior: 'smooth'});
        }

        function openModal() { document.getElementById('about-modal').classList.add('open'); }
        function closeModal() { document.getElementById('about-modal').classList.remove('open'); }
    </script>
</body>
</html>
